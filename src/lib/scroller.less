@white: #FFFFFF;
@whiteish: #F3F1F2;

@lightdark: #C8CCCF;
@darkish: #666;
@dark: #4F4F4F;


/* Need to remove overflow:hidden from #pb-root for sticky to work */
#pb-root {
    overflow: unset;
}
#article-body {
    max-width: unset;
}


.scroll-container {
    & > * {
        box-sizing: border-box;
        margin-bottom: 1.25em;
    }

    .scroll-graphic {
        position: sticky;
        top: 8em; // Top MUST be set for sticky to work
        width: 100%;
        svg {
            width: 100%;
            max-width: 100%;
        }
    }

    .scroll-text {
        z-index: 100; // Text should be above graphic
        position: relative; // Position must be set for z-index to work
        display: flex;
        flex-direction: column;
        width: 100%;
        pointer-events: none; // The text container should never steal mouse events to avoid conflict with graphic
        .step {
            margin-top: 44vh; // Margin area won't trigger scroll events
            margin-bottom: 22vh; // Margin area won't trigger scroll events
            .inner {
                box-sizing: border-box;
                width: 320px;
                padding: 1em;
                background-color: RGBA(255, 255, 255, 0.9);
                border: solid 1px #eaeaea;
                ul {
                    padding-left: 1.2em; // Not enough space for full padding
                }
                &, &.left {
                    margin-left: -50px; // Overhang
                    margin-right: auto;
                }
                &.right {
                    margin-left: auto;
                    margin-right: -50px; // Overhang
                }
            }
            &.highlighted .inner {
                background-color: RGBA(238, 245, 245, 0.9); // Selected
            }
        }
    }

    @media (max-width: 800px) {
        .scroll-graphic {
            top: 6em;
            height: 80vh;
        }
        .scroll-text {
            order: 1; // Always run text after graphic
            .step .inner {
                padding: 0.6em;
                margin-left: auto; // Never overhang
                margin-right: auto; // Never overhang
                p { font-size: unset; } // Override NZH style
            }
        }
    }
}
